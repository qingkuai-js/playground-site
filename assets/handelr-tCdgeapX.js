import"https://esm.sh/onigasm@2.2.5";import"https://esm.sh/monaco-textmate@3.0.1";import"https://esm.sh/monaco-editor-textmate@4.0.0";import*as Ie from"https://esm.sh/css-tree@3.1.0";import*as U from"https://esm.sh/qingkuai-language-service@1.0.6";import"https://esm.sh/vscode-languageserver-types@3.17.5";import*as qr from"https://esm.sh/qingkuai-language-service@1.0.6/adapters";var ln=`/// <reference lib="dom" />

type GeneralFunc = (...args: any) => any
type AnyObject = Record<AnyObjectKey, any>
type Constructible = new (..._: any) => any
type AnyObjectKey = string | number | symbol
type NotFunction<T> = Exclude<T, GeneralFunc>
type ExtractResolveType<T> = T extends Promise<infer R> ? R : unknown
type ExtractProps<T extends Constructible> = ConstructorParameters<T>[0]
type ExtractSlotNames<T extends Constructible> = keyof ConstructorParameters<T>[2]

type ExtractElementKind<K> = K extends keyof HTMLElementTagNameMap ? HTMLElementTagNameMap[K] : HTMLElement

type ExtractEventHandlerKind<K> = K extends keyof HTMLElementEventMap ? HTMLElementEventMap[K] : Event

type ExtractEventParams<T, K extends string> = T extends Constructible
    ? K extends keyof ExtractProps<T>
        ? Parameters<ExtractProps<T>[K]>
        : any
    : any

type UnescapeOptions = Partial<{
    escapeTags?: string[]
    escapeStyle?: boolean
    escapeScript?: boolean
}>

interface DerivedFunc {
    <T>(expression: NotFunction<T>): T
    <T>(getter: () => T): T
}

interface ReloadedGetKVPair {
    <T>(_: Set<T>): [T, T]
    <K, V>(_: Map<K, V>): [V, K]
    <T>(_: Array<T>): [T, number]
    (_: number): [number, number]
    (_: string): [string, number]
    <K extends string | number | symbol, V>(_: Record<K, V>): [V, K]
}

interface WatchFunc {
    <T>(
        expression: NotFunction<T>,
        callback: (pre: NotFunction<T>, cur: NotFunction<T>) => void
    ): (fn?: GeneralFunc) => void
    <T>(getter: () => T, callback: (pre: T, cur: T) => void): (fn?: GeneralFunc) => void
}

export namespace __c__ {
    type EmptyObject = {
        [symbol]?: never
    }

    var Receiver: any
    const symbol: unique symbol

    const GetKVPair: ReloadedGetKVPair
    const GetTypedValue: <T>() => T
    const GetResolve: <T>(_: T) => ExtractResolveType<T>
    const GetEventHandler: <T>(_: T) => ExtractEventHandlerKind<typeof _>
    const GetSlotProp: <T extends Constructible, K extends ExtractSlotNames<T>>(
        _: T,
        __: K
    ) => Readonly<ConstructorParameters<T>[2][K]>
    const GetComponentEventParams: <T, K extends string>(_: T, __: K) => ExtractEventParams<T, K>

    const SatisfyString: (_: string) => void
    const SatisfyBoolean: (_: boolean) => void
    const SatisfyPromise: (_: Promise<any>) => void
    const SatisfyHtmlDirective: (_?: UnescapeOptions) => void
    const SatisfyElement: <K>(_: ExtractElementKind<K>) => void
    const SatisfyTargetDirective: (_: HTMLElement | string) => void
    const SatisfyRefGroup: <T>(_: Set<T> | Array<T>, __: T) => void
    const SatisfyEventHandler: <K>(_: (_: ExtractEventHandlerKind<K>) => void) => void

    const SatisfyComponent: <T extends Constructible>(
        _: T,
        __: ConstructorParameters<T>[0],
        ___: ConstructorParameters<T>[1]
    ) => void
}

export const wat: WatchFunc
export const waT: WatchFunc
export const Wat: WatchFunc
export const der: DerivedFunc
export function stc<T = undefined>(value: T): T
export function rea<T = undefined>(value: T, level?: number): T
`,ae={exports:{}},ye,Ot;function pe(){if(Ot)return ye;Ot=1;const e="2.0.0",r=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=r-6;return ye={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ye}var be,Ft;function de(){if(Ft)return be;Ft=1;var e={};return be=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},be}var Dt;function oe(){return Dt||(Dt=1,function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=pe(),a=de();r=e.exports={};const c=r.re=[],l=r.safeRe=[],o=r.src=[],d=r.safeSrc=[],s=r.t={};let u=0;const f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[f,n]],h=v=>{for(const[w,F]of m)v=v.split(`${w}*`).join(`${w}{0,${F}}`).split(`${w}+`).join(`${w}{1,${F}}`);return v},p=(v,w,F)=>{const A=h(w),D=u++;a(v,D,w),s[v]=D,o[D]=w,d[D]=A,c[D]=new RegExp(w,F?"g":void 0),l[D]=new RegExp(A,F?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),p("FULL",`^${o[s.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),p("LOOSE",`^${o[s.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),p("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),p("COERCE",`${o[s.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",o[s.COERCEPLAIN]+`(?:${o[s.PRERELEASE]})?(?:${o[s.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",o[s.COERCE],!0),p("COERCERTLFULL",o[s.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",p("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",p("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(ae,ae.exports)),ae.exports}var Te,_t;function St(){if(_t)return Te;_t=1;const e=Object.freeze({loose:!0}),r=Object.freeze({});return Te=n=>n?typeof n!="object"?e:n:r,Te}var Le,qt;function Gr(){if(qt)return Le;qt=1;const e=/^[0-9]+$/,r=(n,i)=>{const a=e.test(n),c=e.test(i);return a&&c&&(n=+n,i=+i),n===i?0:a&&!c?-1:c&&!a?1:n<i?-1:1};return Le={compareIdentifiers:r,rcompareIdentifiers:(n,i)=>r(i,n)},Le}var Ce,Gt;function G(){if(Gt)return Ce;Gt=1;const e=de(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:t}=pe(),{safeRe:n,safeSrc:i,t:a}=oe(),c=St(),{compareIdentifiers:l}=Gr();class o{constructor(s,u){if(u=c(u),s instanceof o){if(s.loose===!!u.loose&&s.includePrerelease===!!u.includePrerelease)return s;s=s.version}else if(typeof s!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof s}".`);if(s.length>r)throw new TypeError(`version is longer than ${r} characters`);e("SemVer",s,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const f=s.trim().match(u.loose?n[a.LOOSE]:n[a.FULL]);if(!f)throw new TypeError(`Invalid Version: ${s}`);if(this.raw=s,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(m=>{if(/^[0-9]+$/.test(m)){const h=+m;if(h>=0&&h<t)return h}return m}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(s){if(e("SemVer.compare",this.version,this.options,s),!(s instanceof o)){if(typeof s=="string"&&s===this.version)return 0;s=new o(s,this.options)}return s.version===this.version?0:this.compareMain(s)||this.comparePre(s)}compareMain(s){return s instanceof o||(s=new o(s,this.options)),l(this.major,s.major)||l(this.minor,s.minor)||l(this.patch,s.patch)}comparePre(s){if(s instanceof o||(s=new o(s,this.options)),this.prerelease.length&&!s.prerelease.length)return-1;if(!this.prerelease.length&&s.prerelease.length)return 1;if(!this.prerelease.length&&!s.prerelease.length)return 0;let u=0;do{const f=this.prerelease[u],m=s.prerelease[u];if(e("prerelease compare",u,f,m),f===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(f===void 0)return-1;if(f===m)continue;return l(f,m)}while(++u)}compareBuild(s){s instanceof o||(s=new o(s,this.options));let u=0;do{const f=this.build[u],m=s.build[u];if(e("build compare",u,f,m),f===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(f===void 0)return-1;if(f===m)continue;return l(f,m)}while(++u)}inc(s,u,f){if(s.startsWith("pre")){if(!u&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(u){const m=new RegExp(`^${this.options.loose?i[a.PRERELEASELOOSE]:i[a.PRERELEASE]}$`),h=`-${u}`.match(m);if(!h||h[1]!==u)throw new Error(`invalid identifier: ${u}`)}}switch(s){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,f),this.inc("pre",u,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,f),this.inc("pre",u,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const m=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[m];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(u===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(m)}}if(u){let h=[u,m];f===!1&&(h=[u]),l(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${s}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Ce=o,Ce}var $e,Mt;function Q(){if(Mt)return $e;Mt=1;const e=G();return $e=(t,n,i=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(a){if(!i)return null;throw a}},$e}var we,kt;function un(){if(kt)return we;kt=1;const e=Q();return we=(t,n)=>{const i=e(t,n);return i?i.version:null},we}var Ae,jt;function fn(){if(jt)return Ae;jt=1;const e=Q();return Ae=(t,n)=>{const i=e(t.trim().replace(/^[=v]+/,""),n);return i?i.version:null},Ae}var Ne,Vt;function pn(){if(Vt)return Ne;Vt=1;const e=G();return Ne=(t,n,i,a,c)=>{typeof i=="string"&&(c=a,a=i,i=void 0);try{return new e(t instanceof e?t.version:t,i).inc(n,a,c).version}catch{return null}},Ne}var Pe,Ut;function dn(){if(Ut)return Pe;Ut=1;const e=Q();return Pe=(t,n)=>{const i=e(t,null,!0),a=e(n,null,!0),c=i.compare(a);if(c===0)return null;const l=c>0,o=l?i:a,d=l?a:i,s=!!o.prerelease.length;if(!!d.prerelease.length&&!s){if(!d.patch&&!d.minor)return"major";if(d.compareMain(o)===0)return d.minor&&!d.patch?"minor":"patch"}const f=s?"pre":"";return i.major!==a.major?f+"major":i.minor!==a.minor?f+"minor":i.patch!==a.patch?f+"patch":"prerelease"},Pe}var xe,Kt;function mn(){if(Kt)return xe;Kt=1;const e=G();return xe=(t,n)=>new e(t,n).major,xe}var Oe,Wt;function hn(){if(Wt)return Oe;Wt=1;const e=G();return Oe=(t,n)=>new e(t,n).minor,Oe}var Fe,Ht;function En(){if(Ht)return Fe;Ht=1;const e=G();return Fe=(t,n)=>new e(t,n).patch,Fe}var De,Xt;function gn(){if(Xt)return De;Xt=1;const e=Q();return De=(t,n)=>{const i=e(t,n);return i&&i.prerelease.length?i.prerelease:null},De}var _e,Bt;function W(){if(Bt)return _e;Bt=1;const e=G();return _e=(t,n,i)=>new e(t,i).compare(new e(n,i)),_e}var qe,zt;function vn(){if(zt)return qe;zt=1;const e=W();return qe=(t,n,i)=>e(n,t,i),qe}var Ge,Yt;function Rn(){if(Yt)return Ge;Yt=1;const e=W();return Ge=(t,n)=>e(t,n,!0),Ge}var Me,Qt;function It(){if(Qt)return Me;Qt=1;const e=G();return Me=(t,n,i)=>{const a=new e(t,i),c=new e(n,i);return a.compare(c)||a.compareBuild(c)},Me}var ke,Jt;function Sn(){if(Jt)return ke;Jt=1;const e=It();return ke=(t,n)=>t.sort((i,a)=>e(i,a,n)),ke}var je,Zt;function In(){if(Zt)return je;Zt=1;const e=It();return je=(t,n)=>t.sort((i,a)=>e(a,i,n)),je}var Ve,er;function me(){if(er)return Ve;er=1;const e=W();return Ve=(t,n,i)=>e(t,n,i)>0,Ve}var Ue,tr;function yt(){if(tr)return Ue;tr=1;const e=W();return Ue=(t,n,i)=>e(t,n,i)<0,Ue}var Ke,rr;function Mr(){if(rr)return Ke;rr=1;const e=W();return Ke=(t,n,i)=>e(t,n,i)===0,Ke}var We,nr;function kr(){if(nr)return We;nr=1;const e=W();return We=(t,n,i)=>e(t,n,i)!==0,We}var He,sr;function bt(){if(sr)return He;sr=1;const e=W();return He=(t,n,i)=>e(t,n,i)>=0,He}var Xe,ir;function Tt(){if(ir)return Xe;ir=1;const e=W();return Xe=(t,n,i)=>e(t,n,i)<=0,Xe}var Be,or;function jr(){if(or)return Be;or=1;const e=Mr(),r=kr(),t=me(),n=bt(),i=yt(),a=Tt();return Be=(l,o,d,s)=>{switch(o){case"===":return typeof l=="object"&&(l=l.version),typeof d=="object"&&(d=d.version),l===d;case"!==":return typeof l=="object"&&(l=l.version),typeof d=="object"&&(d=d.version),l!==d;case"":case"=":case"==":return e(l,d,s);case"!=":return r(l,d,s);case">":return t(l,d,s);case">=":return n(l,d,s);case"<":return i(l,d,s);case"<=":return a(l,d,s);default:throw new TypeError(`Invalid operator: ${o}`)}},Be}var ze,ar;function yn(){if(ar)return ze;ar=1;const e=G(),r=Q(),{safeRe:t,t:n}=oe();return ze=(a,c)=>{if(a instanceof e)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;c=c||{};let l=null;if(!c.rtl)l=a.match(c.includePrerelease?t[n.COERCEFULL]:t[n.COERCE]);else{const m=c.includePrerelease?t[n.COERCERTLFULL]:t[n.COERCERTL];let h;for(;(h=m.exec(a))&&(!l||l.index+l[0].length!==a.length);)(!l||h.index+h[0].length!==l.index+l[0].length)&&(l=h),m.lastIndex=h.index+h[1].length+h[2].length;m.lastIndex=-1}if(l===null)return null;const o=l[2],d=l[3]||"0",s=l[4]||"0",u=c.includePrerelease&&l[5]?`-${l[5]}`:"",f=c.includePrerelease&&l[6]?`+${l[6]}`:"";return r(`${o}.${d}.${s}${u}${f}`,c)},ze}var Ye,cr;function bn(){if(cr)return Ye;cr=1;class e{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(t,n)}return this}}return Ye=e,Ye}var Qe,lr;function H(){if(lr)return Qe;lr=1;const e=/\s+/g;class r{constructor(E,b){if(b=i(b),E instanceof r)return E.loose===!!b.loose&&E.includePrerelease===!!b.includePrerelease?E:new r(E.raw,b);if(E instanceof a)return this.raw=E.value,this.set=[[E]],this.formatted=void 0,this;if(this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease,this.raw=E.trim().replace(e," "),this.set=this.raw.split("||").map(I=>this.parseRange(I.trim())).filter(I=>I.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const I=this.set[0];if(this.set=this.set.filter(T=>!p(T[0])),this.set.length===0)this.set=[I];else if(this.set.length>1){for(const T of this.set)if(T.length===1&&v(T[0])){this.set=[T];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let E=0;E<this.set.length;E++){E>0&&(this.formatted+="||");const b=this.set[E];for(let I=0;I<b.length;I++)I>0&&(this.formatted+=" "),this.formatted+=b[I].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(E){const I=((this.options.includePrerelease&&m)|(this.options.loose&&h))+":"+E,T=n.get(I);if(T)return T;const y=this.options.loose,C=y?o[d.HYPHENRANGELOOSE]:o[d.HYPHENRANGE];E=E.replace(C,Z(this.options.includePrerelease)),c("hyphen replace",E),E=E.replace(o[d.COMPARATORTRIM],s),c("comparator trim",E),E=E.replace(o[d.TILDETRIM],u),c("tilde trim",E),E=E.replace(o[d.CARETTRIM],f),c("caret trim",E);let P=E.split(" ").map(_=>F(_,this.options)).join(" ").split(/\s+/).map(_=>X(_,this.options));y&&(P=P.filter(_=>(c("loose invalid filter",_,this.options),!!_.match(o[d.COMPARATORLOOSE])))),c("range list",P);const $=new Map,x=P.map(_=>new a(_,this.options));for(const _ of x){if(p(_))return[_];$.set(_.value,_)}$.size>1&&$.has("")&&$.delete("");const q=[...$.values()];return n.set(I,q),q}intersects(E,b){if(!(E instanceof r))throw new TypeError("a Range is required");return this.set.some(I=>w(I,b)&&E.set.some(T=>w(T,b)&&I.every(y=>T.every(C=>y.intersects(C,b)))))}test(E){if(!E)return!1;if(typeof E=="string")try{E=new l(E,this.options)}catch{return!1}for(let b=0;b<this.set.length;b++)if(ee(this.set[b],E,this.options))return!0;return!1}}Qe=r;const t=bn(),n=new t,i=St(),a=he(),c=de(),l=G(),{safeRe:o,t:d,comparatorTrimReplace:s,tildeTrimReplace:u,caretTrimReplace:f}=oe(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:h}=pe(),p=g=>g.value==="<0.0.0-0",v=g=>g.value==="",w=(g,E)=>{let b=!0;const I=g.slice();let T=I.pop();for(;b&&I.length;)b=I.every(y=>T.intersects(y,E)),T=I.pop();return b},F=(g,E)=>(c("comp",g,E),g=S(g,E),c("caret",g),g=D(g,E),c("tildes",g),g=L(g,E),c("xrange",g),g=B(g,E),c("stars",g),g),A=g=>!g||g.toLowerCase()==="x"||g==="*",D=(g,E)=>g.trim().split(/\s+/).map(b=>R(b,E)).join(" "),R=(g,E)=>{const b=E.loose?o[d.TILDELOOSE]:o[d.TILDE];return g.replace(b,(I,T,y,C,P)=>{c("tilde",g,I,T,y,C,P);let $;return A(T)?$="":A(y)?$=`>=${T}.0.0 <${+T+1}.0.0-0`:A(C)?$=`>=${T}.${y}.0 <${T}.${+y+1}.0-0`:P?(c("replaceTilde pr",P),$=`>=${T}.${y}.${C}-${P} <${T}.${+y+1}.0-0`):$=`>=${T}.${y}.${C} <${T}.${+y+1}.0-0`,c("tilde return",$),$})},S=(g,E)=>g.trim().split(/\s+/).map(b=>N(b,E)).join(" "),N=(g,E)=>{c("caret",g,E);const b=E.loose?o[d.CARETLOOSE]:o[d.CARET],I=E.includePrerelease?"-0":"";return g.replace(b,(T,y,C,P,$)=>{c("caret",g,T,y,C,P,$);let x;return A(y)?x="":A(C)?x=`>=${y}.0.0${I} <${+y+1}.0.0-0`:A(P)?y==="0"?x=`>=${y}.${C}.0${I} <${y}.${+C+1}.0-0`:x=`>=${y}.${C}.0${I} <${+y+1}.0.0-0`:$?(c("replaceCaret pr",$),y==="0"?C==="0"?x=`>=${y}.${C}.${P}-${$} <${y}.${C}.${+P+1}-0`:x=`>=${y}.${C}.${P}-${$} <${y}.${+C+1}.0-0`:x=`>=${y}.${C}.${P}-${$} <${+y+1}.0.0-0`):(c("no pr"),y==="0"?C==="0"?x=`>=${y}.${C}.${P}${I} <${y}.${C}.${+P+1}-0`:x=`>=${y}.${C}.${P}${I} <${y}.${+C+1}.0-0`:x=`>=${y}.${C}.${P} <${+y+1}.0.0-0`),c("caret return",x),x})},L=(g,E)=>(c("replaceXRanges",g,E),g.split(/\s+/).map(b=>j(b,E)).join(" ")),j=(g,E)=>{g=g.trim();const b=E.loose?o[d.XRANGELOOSE]:o[d.XRANGE];return g.replace(b,(I,T,y,C,P,$)=>{c("xRange",g,I,T,y,C,P,$);const x=A(y),q=x||A(C),_=q||A(P),te=_;return T==="="&&te&&(T=""),$=E.includePrerelease?"-0":"",x?T===">"||T==="<"?I="<0.0.0-0":I="*":T&&te?(q&&(C=0),P=0,T===">"?(T=">=",q?(y=+y+1,C=0,P=0):(C=+C+1,P=0)):T==="<="&&(T="<",q?y=+y+1:C=+C+1),T==="<"&&($="-0"),I=`${T+y}.${C}.${P}${$}`):q?I=`>=${y}.0.0${$} <${+y+1}.0.0-0`:_&&(I=`>=${y}.${C}.0${$} <${y}.${+C+1}.0-0`),c("xRange return",I),I})},B=(g,E)=>(c("replaceStars",g,E),g.trim().replace(o[d.STAR],"")),X=(g,E)=>(c("replaceGTE0",g,E),g.trim().replace(o[E.includePrerelease?d.GTE0PRE:d.GTE0],"")),Z=g=>(E,b,I,T,y,C,P,$,x,q,_,te)=>(A(I)?b="":A(T)?b=`>=${I}.0.0${g?"-0":""}`:A(y)?b=`>=${I}.${T}.0${g?"-0":""}`:C?b=`>=${b}`:b=`>=${b}${g?"-0":""}`,A(x)?$="":A(q)?$=`<${+x+1}.0.0-0`:A(_)?$=`<${x}.${+q+1}.0-0`:te?$=`<=${x}.${q}.${_}-${te}`:g?$=`<${x}.${q}.${+_+1}-0`:$=`<=${$}`,`${b} ${$}`.trim()),ee=(g,E,b)=>{for(let I=0;I<g.length;I++)if(!g[I].test(E))return!1;if(E.prerelease.length&&!b.includePrerelease){for(let I=0;I<g.length;I++)if(c(g[I].semver),g[I].semver!==a.ANY&&g[I].semver.prerelease.length>0){const T=g[I].semver;if(T.major===E.major&&T.minor===E.minor&&T.patch===E.patch)return!0}return!1}return!0};return Qe}var Je,ur;function he(){if(ur)return Je;ur=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(s,u){if(u=t(u),s instanceof r){if(s.loose===!!u.loose)return s;s=s.value}s=s.trim().split(/\s+/).join(" "),c("comparator",s,u),this.options=u,this.loose=!!u.loose,this.parse(s),this.semver===e?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(s){const u=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=s.match(u);if(!f)throw new TypeError(`Invalid comparator: ${s}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new l(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(s){if(c("Comparator.test",s,this.options.loose),this.semver===e||s===e)return!0;if(typeof s=="string")try{s=new l(s,this.options)}catch{return!1}return a(s,this.operator,this.semver,this.options)}intersects(s,u){if(!(s instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(s.value,u).test(this.value):s.operator===""?s.value===""?!0:new o(this.value,u).test(s.semver):(u=t(u),u.includePrerelease&&(this.value==="<0.0.0-0"||s.value==="<0.0.0-0")||!u.includePrerelease&&(this.value.startsWith("<0.0.0")||s.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&s.operator.startsWith(">")||this.operator.startsWith("<")&&s.operator.startsWith("<")||this.semver.version===s.semver.version&&this.operator.includes("=")&&s.operator.includes("=")||a(this.semver,"<",s.semver,u)&&this.operator.startsWith(">")&&s.operator.startsWith("<")||a(this.semver,">",s.semver,u)&&this.operator.startsWith("<")&&s.operator.startsWith(">")))}}Je=r;const t=St(),{safeRe:n,t:i}=oe(),a=jr(),c=de(),l=G(),o=H();return Je}var Ze,fr;function Ee(){if(fr)return Ze;fr=1;const e=H();return Ze=(t,n,i)=>{try{n=new e(n,i)}catch{return!1}return n.test(t)},Ze}var et,pr;function Tn(){if(pr)return et;pr=1;const e=H();return et=(t,n)=>new e(t,n).set.map(i=>i.map(a=>a.value).join(" ").trim().split(" ")),et}var tt,dr;function Ln(){if(dr)return tt;dr=1;const e=G(),r=H();return tt=(n,i,a)=>{let c=null,l=null,o=null;try{o=new r(i,a)}catch{return null}return n.forEach(d=>{o.test(d)&&(!c||l.compare(d)===-1)&&(c=d,l=new e(c,a))}),c},tt}var rt,mr;function Cn(){if(mr)return rt;mr=1;const e=G(),r=H();return rt=(n,i,a)=>{let c=null,l=null,o=null;try{o=new r(i,a)}catch{return null}return n.forEach(d=>{o.test(d)&&(!c||l.compare(d)===1)&&(c=d,l=new e(c,a))}),c},rt}var nt,hr;function $n(){if(hr)return nt;hr=1;const e=G(),r=H(),t=me();return nt=(i,a)=>{i=new r(i,a);let c=new e("0.0.0");if(i.test(c)||(c=new e("0.0.0-0"),i.test(c)))return c;c=null;for(let l=0;l<i.set.length;++l){const o=i.set[l];let d=null;o.forEach(s=>{const u=new e(s.semver.version);switch(s.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!d||t(u,d))&&(d=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),d&&(!c||t(c,d))&&(c=d)}return c&&i.test(c)?c:null},nt}var st,Er;function wn(){if(Er)return st;Er=1;const e=H();return st=(t,n)=>{try{return new e(t,n).range||"*"}catch{return null}},st}var it,gr;function Lt(){if(gr)return it;gr=1;const e=G(),r=he(),{ANY:t}=r,n=H(),i=Ee(),a=me(),c=yt(),l=Tt(),o=bt();return it=(s,u,f,m)=>{s=new e(s,m),u=new n(u,m);let h,p,v,w,F;switch(f){case">":h=a,p=l,v=c,w=">",F=">=";break;case"<":h=c,p=o,v=a,w="<",F="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(s,u,m))return!1;for(let A=0;A<u.set.length;++A){const D=u.set[A];let R=null,S=null;if(D.forEach(N=>{N.semver===t&&(N=new r(">=0.0.0")),R=R||N,S=S||N,h(N.semver,R.semver,m)?R=N:v(N.semver,S.semver,m)&&(S=N)}),R.operator===w||R.operator===F||(!S.operator||S.operator===w)&&p(s,S.semver))return!1;if(S.operator===F&&v(s,S.semver))return!1}return!0},it}var ot,vr;function An(){if(vr)return ot;vr=1;const e=Lt();return ot=(t,n,i)=>e(t,n,">",i),ot}var at,Rr;function Nn(){if(Rr)return at;Rr=1;const e=Lt();return at=(t,n,i)=>e(t,n,"<",i),at}var ct,Sr;function Pn(){if(Sr)return ct;Sr=1;const e=H();return ct=(t,n,i)=>(t=new e(t,i),n=new e(n,i),t.intersects(n,i)),ct}var lt,Ir;function xn(){if(Ir)return lt;Ir=1;const e=Ee(),r=W();return lt=(t,n,i)=>{const a=[];let c=null,l=null;const o=t.sort((f,m)=>r(f,m,i));for(const f of o)e(f,n,i)?(l=f,c||(c=f)):(l&&a.push([c,l]),l=null,c=null);c&&a.push([c,null]);const d=[];for(const[f,m]of a)f===m?d.push(f):!m&&f===o[0]?d.push("*"):m?f===o[0]?d.push(`<=${m}`):d.push(`${f} - ${m}`):d.push(`>=${f}`);const s=d.join(" || "),u=typeof n.raw=="string"?n.raw:String(n);return s.length<u.length?s:n},lt}var ut,yr;function On(){if(yr)return ut;yr=1;const e=H(),r=he(),{ANY:t}=r,n=Ee(),i=W(),a=(u,f,m={})=>{if(u===f)return!0;u=new e(u,m),f=new e(f,m);let h=!1;e:for(const p of u.set){for(const v of f.set){const w=o(p,v,m);if(h=h||w!==null,w)continue e}if(h)return!1}return!0},c=[new r(">=0.0.0-0")],l=[new r(">=0.0.0")],o=(u,f,m)=>{if(u===f)return!0;if(u.length===1&&u[0].semver===t){if(f.length===1&&f[0].semver===t)return!0;m.includePrerelease?u=c:u=l}if(f.length===1&&f[0].semver===t){if(m.includePrerelease)return!0;f=l}const h=new Set;let p,v;for(const L of u)L.operator===">"||L.operator===">="?p=d(p,L,m):L.operator==="<"||L.operator==="<="?v=s(v,L,m):h.add(L.semver);if(h.size>1)return null;let w;if(p&&v){if(w=i(p.semver,v.semver,m),w>0)return null;if(w===0&&(p.operator!==">="||v.operator!=="<="))return null}for(const L of h){if(p&&!n(L,String(p),m)||v&&!n(L,String(v),m))return null;for(const j of f)if(!n(L,String(j),m))return!1;return!0}let F,A,D,R,S=v&&!m.includePrerelease&&v.semver.prerelease.length?v.semver:!1,N=p&&!m.includePrerelease&&p.semver.prerelease.length?p.semver:!1;S&&S.prerelease.length===1&&v.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const L of f){if(R=R||L.operator===">"||L.operator===">=",D=D||L.operator==="<"||L.operator==="<=",p){if(N&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===N.major&&L.semver.minor===N.minor&&L.semver.patch===N.patch&&(N=!1),L.operator===">"||L.operator===">="){if(F=d(p,L,m),F===L&&F!==p)return!1}else if(p.operator===">="&&!n(p.semver,String(L),m))return!1}if(v){if(S&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===S.major&&L.semver.minor===S.minor&&L.semver.patch===S.patch&&(S=!1),L.operator==="<"||L.operator==="<="){if(A=s(v,L,m),A===L&&A!==v)return!1}else if(v.operator==="<="&&!n(v.semver,String(L),m))return!1}if(!L.operator&&(v||p)&&w!==0)return!1}return!(p&&D&&!v&&w!==0||v&&R&&!p&&w!==0||N||S)},d=(u,f,m)=>{if(!u)return f;const h=i(u.semver,f.semver,m);return h>0?u:h<0||f.operator===">"&&u.operator===">="?f:u},s=(u,f,m)=>{if(!u)return f;const h=i(u.semver,f.semver,m);return h<0?u:h>0||f.operator==="<"&&u.operator==="<="?f:u};return ut=a,ut}var ft,br;function Fn(){if(br)return ft;br=1;const e=oe(),r=pe(),t=G(),n=Gr(),i=Q(),a=un(),c=fn(),l=pn(),o=dn(),d=mn(),s=hn(),u=En(),f=gn(),m=W(),h=vn(),p=Rn(),v=It(),w=Sn(),F=In(),A=me(),D=yt(),R=Mr(),S=kr(),N=bt(),L=Tt(),j=jr(),B=yn(),X=he(),Z=H(),ee=Ee(),g=Tn(),E=Ln(),b=Cn(),I=$n(),T=wn(),y=Lt(),C=An(),P=Nn(),$=Pn(),x=xn(),q=On();return ft={parse:i,valid:a,clean:c,inc:l,diff:o,major:d,minor:s,patch:u,prerelease:f,compare:m,rcompare:h,compareLoose:p,compareBuild:v,sort:w,rsort:F,gt:A,lt:D,eq:R,neq:S,gte:N,lte:L,cmp:j,coerce:B,Comparator:X,Range:Z,satisfies:ee,toComparators:g,maxSatisfying:E,minSatisfying:b,minVersion:I,validRange:T,outside:y,gtr:C,ltr:P,intersects:$,simplifyRange:x,subset:q,SemVer:t,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},ft}var Dn=Fn();function Vr(e){return(e==null?void 0:e.length)||0}function Tr(e,r){return e!==e?r===r:e!==r}function _n(...e){e.forEach(r=>Mn(r,0))}function qn(e){return Array.from(e)}function Gn(e,...r){e.forEach(t=>t(...r))}function Mn(e,r){return e.length=r}function Ur(e){return qn(e.values())}function kn(e){return Object.prototype.toString.call(e).slice(8,-1)}function jn(e,r){return Array(e).fill(r)}function ge(e){return e===null}function Vn(e){return Array.isArray(e)}function Un(e){return typeof e=="number"}function Kr(e){return typeof e=="function"}function Lr(e){return e===void 0}const ve=null,Wr=void 0,pt=Reflect,Ct=()=>{},Hr=Symbol(),Xr=Symbol(),$t=Symbol(),Kn=["sync","pre","post"],wt=new Set,gt=new Set,Wn=(e=>e)({InstantiateComponentManually:[2003,()=>"You can not intantiate the component manually because this process requires some state generated by compiler."]});At(...Wn.InstantiateComponentManually);const Hn=At(2005,()=>"Assignment to constant variable."),Xn=At(2004,e=>`Bad reactivity level(${e}), if you don't want the target to be reactive, mark it with stc compiler helper function instead of rea.`);function At(e,r){return(...t)=>{throw new TypeError(`${r(...t)} (${e})`)}}let Bn=ve;function Cr(e,r){const t=e.__.hooks[r];t&&(Gn(t),r<=1&&_n(t))}function zn(){const e=jn(6,Ct);for(let r=0;r<6;r++)e[r]=t=>{const{hooks:n}=Bn.__;n[r]?n[r].push(t):n[r]=[t]};return e}const[Ei,gi,vi,Ri,Si,Ii]=zn();function Br(e){return(e==null?void 0:e[Xr])===!0}function zr(e){return Br(e)?e[$t]:e}const Yr=Yn(8003,(e,r=!1)=>`The ${r?"callback":"watch target"} of [${e}] call not dependen any reactive value, and it will be never executed${r?" again":""}.`);function Yn(e,r){return(...t)=>{console.warn(`[QingKuai Warnning](${e}):`,r(...t))}}function Qn(e){e==null||e.forEach(r=>{r.type==="sync"?Qr(r):gt.add(r)})}function $r(e){gt.forEach(r=>{r.type===e&&(Qr(r),gt.delete(r))})}function Qr(e){if(!("cur"in e))e.fn();else{const t=e.getter(),n=zr(t);if(e.cur===n)return;e.fn(e.cur,e.cur=n)}}function Jr(e,r){return e.forEach(t=>{ge(t[1])&&(t[1]=new Set),t[1].add(r)}),t=>{e.forEach(n=>{n[1].delete(r),n[1].size===0&&(n[1]=ve)}),t==null||t()}}function Jn(e,r,t){const n=e(),i=zr(n),a=Ur(wt),c={fn:r,type:t,getter:e,cur:i};if(Vr(a)===0){const l=t==="post"?"watch":t+"Watch";Yr(l,!1)}return Jr(a,c)}function Zr(e,r,t){let n;const i=ge(t),a={fn:e,type:r};if(t?n=t:(e(),n=Ur(wt)),i&&Vr(n)===0){const c=r==="post"?"effect":r+"Effect";Yr(c,!0)}return Jr(n,a)}function Zn(e){return(r,t)=>Jn(r,t,e)}function es(e){return r=>Zr(r,e,ve)}function ts(e){return(r,t)=>Zr(r,e,t)}const[[yi,bi,Ti],[Li,Ci,$i],[wi,Ai,Ni]]=[Zn,es,ts].map(e=>Kn.map(r=>e(r))),rs=Promise.resolve();let re=0;const dt=new Set;function ns(e){re!=2&&(dt.add(e),re!=1&&(re=1,rs.then(function(){re=2;const t=[],n=new Set;$r("pre"),dt.forEach(i=>{i.forEach(a=>{const c=a.instance,l=c.__;if(ge(l))return i.delete(a);if(!a.called){const o=n.has(c);a()&&l&&!o&&(Cr(c,2),n.add(c)),t.push(a),a.called=!0}}),dt.delete(i)}),$r("post"),t.forEach(i=>{i.called=!1}),n.forEach(i=>{Cr(i,3),n.delete(i)}),re=0})))}var ss=Object.defineProperty,is=(e,r,t)=>r in e?ss(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,mt=(e,r,t)=>is(e,typeof r!="symbol"?r+"":r,t);const os=en(),as=en(1);class cs{constructor(r,t,n,i,a,c){this.raw=r,this.level=t,this.typeFlag=n,this.debugSetter=i,this.effect=a,this.isConstDeclaration=c,mt(this,"get",(l,o,d)=>{if(o===Xr)return!0;if(o===Hr)return this;if(o===$t)return this.raw;const{effect:s,typeFlag:u,level:f}=this,m=pt.get(l,o,d),h=p=>os(p,f-1,s);return wt.add(s),u&6?Kr(m)?(...p)=>{const v=()=>l[o](...p);if(o==="forEach"){const[j,B]=p;return l[o]((X,Z,ee)=>{j(h(X),h(Z),ee)},B)}if(o==="keys"||o==="values"||o==="entries"){const j=v(),B=j.next;return j.next=()=>{const X=B.call(j);return X.done||(X.value=h(X.value)),X},j}const[w,F]=p,A=l.size,D=!(u&4),R=v(),S=!D&&o==="set",N=S?l.get(w):Wr,L=S&&Tr(N,F);return(o==="clear"||o==="delete"||o===(D?"add":"set"))&&(l.size!==A||L)&&ht(s),R}:m:h(m)}),mt(this,"set",(l,o,d,s)=>{const{debugSetter:u,effect:f,isConstDeclaration:m}=this;if(Tr(l[o],d)){m&&Hn(),u!==Ct&&u(d);const h=pt.set(l,o,d,s);return ht(f),h}return!0}),mt(this,"deleteProperty",(l,o)=>(ht(this.effect),pt.deleteProperty(l,o))),this.proxy=new Proxy(r,this)}}function ls(e){return as(e).$}function en(e=0){return(r,t,n)=>{let i=1/0,a=Ct,c=Wr;const l=Kr(t),o=Un(n),d=Lr(n),s=l||o||d;s?(l?(a=t,d||(i=n)):Lr(t)||(i=t),i-e<0&&Xn(i),i-=e,Br(r)&&(c=r[Hr].effect,r=r[$t]),r={$:r}):(i=t,c=n);const u=us(r);if(!u||i<0)return r;const f=new cs(r,i,u,a,c||[new Set,ve],s&&e===1);return l?[f.proxy,f.proxy.$]:f.proxy}}function ht(e){Qn(e[1]),ns(e[0])}function us(e){if(typeof e!="object"||ge(e))return 0;if(Vn(e))return 1;const r=kn(e),t=["Object","Set","Map"];for(let n=0;n<3;n++)if(r===t[n])return 1<<n;return 0}const wr={type:"error",value:""};var O=(e=>(e.Hover="hover",e.Rename="rename",e.CodeLens="codeLens",e.DeleteFile="deleteFile",e.FileLoaded="fileLoaded",e.ShowMessage="showMessage",e.insertSnippet="insertSnippet",e.PrepareRename="prepareRename",e.GetDiagnostic="getDiagnostics",e.GetCompletions="getCompletions",e.FormatDocument="formatDocument",e.FindReferences="findReferences",e.ResolveCodeLens="resolveCodeLens",e.FindDefinitions="findDefinitions",e.GetCompileResult="getCompileResult",e.GetDocumentColors="getDocumentColors",e.FindImplementations="findImplementations",e.LoadCore="loadTypescriptAndQingkuaiCompiler",e.GetColorPresentations="getColorPresentations",e.ResolveCompletionItem="resolveCompletionItem",e))(O||{});const fs={left:wr,right:wr};rn("typescript");rn("qingkuai");const Et="/node_modules/qingkuai/dist/runtime/index.d.ts",Nt="/____qingkuai-intermidiate-code-environment____.d.ts";function ps(e){return typeof e=="string"}function Re(e){return e.endsWith(".qk")}const Ar=ls({resolving:!0,codeLens:!0,debug:!0,comment:!0,leftFileTab:{activeIndex:0,tabs:["App.qk"]},rightFileTab:{activeIndex:0,tabs:["preview","script","style"]},tsVersion:"loading...",qingkuaiVersion:"loading",message:{...fs},showingExternalSingleDefinition:!1});function Nr(e){return e[e.length-1]}function ds(e){return e.replace(/^file:\/\//,"")}function tn(e){const r=e?[0]:[];for(let t=0;t<e.length;t++)e[t]===`
`&&r.push(t);return r}async function rn(e){const r=e==="qingkuai"?"1.0.46":"4.7.0",n=(await(await fetch(`https://registry.npmmirror.com/${e}`)).json()).versions??{},i=Object.keys(n).filter(a=>/^\d+\.\d+\.\d+$/.test(a)&&Dn.gte(a,r));return e==="typescript"?Ar.tsVersion=Nr(i):Ar.qingkuaiVersion=Nr(i),i.reverse()}async function ms(e){return await import(`https://esm.sh/typescript@${e}`)}async function hs(e){return await import(`https://esm.sh/qingkuai@${e}/compiler`)}async function Es(){return await Promise.all([import("https://esm.sh/prettier@3.5.3/standalone"),import("https://esm.sh/prettier@3.5.3/plugins/acorn"),import("https://esm.sh/prettier@3.5.3/plugins/babel"),import("https://esm.sh/prettier@3.5.3/plugins/estree"),import("https://esm.sh/prettier@3.5.3/plugins/postcss"),import("https://esm.sh/prettier-plugin-qingkuai@1.0.22")])}let nn,sn,ne,M,fe,Se,Pt=U.ProjectKind.JS,[vt,on]=U.util.generatePromiseAndResolver();const se=new Map,z=new Map,Pr=new Map,V=new Map([[Nt,ln]]);function Rt(e){e.ts&&(ne=e.ts),e.system&&e.system,e.updateFile&&(nn=e.updateFile),e.deleteFile&&(sn=e.deleteFile),e.projectKind&&(Pt=e.projectKind),e.qingkuaiCompiler&&(Se=e.qingkuaiCompiler),e.tsLanguageService&&(M=e.tsLanguageService),e.prettierAndPlugins&&(fe=e.prettierAndPlugins),e.tsLanguageServiceHost&&e.tsLanguageServiceHost,e.isReload&&([vt,on]=U.util.generatePromiseAndResolver())}const xr=`import {__c__,rea,der,wat,Wat,waT} from "${Nt.slice(0,-5)}"
`,gs={exist(e){return V.has(e)},read(e){return V.get(e)??""}},J={resolve(...e){const r=[],t=n=>{(n||r[r.length-1]!=="")&&r.push(n)};for(const n of e){if(n==="/"){t("");continue}for(const i of n.split("/"))i!=="."&&(i===".."?r.pop():t(i))}return r.join("/")},relative(e,r){let t=0;const n=r.split("/").filter(Boolean),i=e.split("/").filter(Boolean);for(;t<n.length&&t<i.length&&i[t]===n[t];)t++;const a=i.length-t,c=n.slice(t);return[...Array(a).fill(".."),...c].join("/")||"."},ext(e){const r=e.lastIndexOf("."),t=e.lastIndexOf("/");return r<t||r===-1?"":e.slice(r)},dir(e){const r=e.lastIndexOf("/");return r<=0?"/":e.slice(0,r)},base(e){const r=this.ext(e),t=e.lastIndexOf("/")+1;return e.slice(t,r?-r.length:void 0)}},vs=(e,r,t,n)=>{const i=tn(t);return{uri:e,version:r,languageId:n,lineCount:i.length,offsetAt(a){for(let c=0;c<i.length;c++)if(a.line===c)return i[c]+a.character;return-1},positionAt(a){for(let c=0;c<i.length;c++)if(a>=i[c]&&(c===i.length-1||a<i[c+1]))return{line:c,character:a-c};throw"never"},getText(a){return a?t.slice(this.offsetAt(a.start)||0,this.offsetAt(a.end)||t.length):t}}};var Rs={};function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ie.apply(this,arguments)}var an=!1;try{an=typeof localStorage<"u"}catch{}var Ss=typeof process<"u",Is=an&&localStorage.getItem("DEBUG")||Ss&&Rs.DEBUG,Or=Is?console.log:function(e){return""},ys=function(r,t){var n=r.target||t.ScriptTarget.ES5,i=r.lib||[],a=["lib.d.ts","lib.core.d.ts","lib.decorators.d.ts","lib.decorators.legacy.d.ts","lib.dom.asynciterable.d.ts","lib.dom.d.ts","lib.dom.iterable.d.ts","lib.webworker.asynciterable.d.ts","lib.webworker.d.ts","lib.webworker.importscripts.d.ts","lib.webworker.iterable.d.ts","lib.scripthost.d.ts","lib.es5.d.ts","lib.es6.d.ts","lib.es7.d.ts","lib.core.es6.d.ts","lib.core.es7.d.ts","lib.es2015.collection.d.ts","lib.es2015.core.d.ts","lib.es2015.d.ts","lib.es2015.generator.d.ts","lib.es2015.iterable.d.ts","lib.es2015.promise.d.ts","lib.es2015.proxy.d.ts","lib.es2015.reflect.d.ts","lib.es2015.symbol.d.ts","lib.es2015.symbol.wellknown.d.ts","lib.es2016.array.include.d.ts","lib.es2016.d.ts","lib.es2016.full.d.ts","lib.es2016.intl.d.ts","lib.es2017.arraybuffer.d.ts","lib.es2017.d.ts","lib.es2017.date.d.ts","lib.es2017.full.d.ts","lib.es2017.intl.d.ts","lib.es2017.object.d.ts","lib.es2017.sharedmemory.d.ts","lib.es2017.string.d.ts","lib.es2017.typedarrays.d.ts","lib.es2018.asyncgenerator.d.ts","lib.es2018.asynciterable.d.ts","lib.es2018.d.ts","lib.es2018.full.d.ts","lib.es2018.intl.d.ts","lib.es2018.promise.d.ts","lib.es2018.regexp.d.ts","lib.es2019.array.d.ts","lib.es2019.d.ts","lib.es2019.full.d.ts","lib.es2019.intl.d.ts","lib.es2019.object.d.ts","lib.es2019.string.d.ts","lib.es2019.symbol.d.ts","lib.es2020.bigint.d.ts","lib.es2020.d.ts","lib.es2020.date.d.ts","lib.es2020.full.d.ts","lib.es2020.intl.d.ts","lib.es2020.number.d.ts","lib.es2020.promise.d.ts","lib.es2020.sharedmemory.d.ts","lib.es2020.string.d.ts","lib.es2020.symbol.wellknown.d.ts","lib.es2021.d.ts","lib.es2021.full.d.ts","lib.es2021.intl.d.ts","lib.es2021.promise.d.ts","lib.es2021.string.d.ts","lib.es2021.weakref.d.ts","lib.es2022.array.d.ts","lib.es2022.d.ts","lib.es2022.error.d.ts","lib.es2022.full.d.ts","lib.es2022.intl.d.ts","lib.es2022.object.d.ts","lib.es2022.regexp.d.ts","lib.es2022.sharedmemory.d.ts","lib.es2022.string.d.ts","lib.es2023.array.d.ts","lib.es2023.collection.d.ts","lib.es2023.d.ts","lib.es2023.full.d.ts","lib.es2023.intl.d.ts","lib.es2024.arraybuffer.d.ts","lib.es2024.collection.d.ts","lib.es2024.d.ts","lib.es2024.full.d.ts","lib.es2024.object.d.ts","lib.es2024.promise.d.ts","lib.es2024.regexp.d.ts","lib.es2024.sharedmemory.d.ts","lib.es2024.string.d.ts","lib.esnext.array.d.ts","lib.esnext.asynciterable.d.ts","lib.esnext.bigint.d.ts","lib.esnext.collection.d.ts","lib.esnext.d.ts","lib.esnext.decorators.d.ts","lib.esnext.disposable.d.ts","lib.esnext.float16.d.ts","lib.esnext.full.d.ts","lib.esnext.intl.d.ts","lib.esnext.iterator.d.ts","lib.esnext.object.d.ts","lib.esnext.promise.d.ts","lib.esnext.regexp.d.ts","lib.esnext.string.d.ts","lib.esnext.symbol.d.ts","lib.esnext.weakref.d.ts"],c=t.ScriptTarget[n],l=a.filter(function(m){return m.startsWith("lib."+c.toLowerCase())}),o=a.indexOf(l.pop()),d=function(h){return h&&h.length?h.reduce(function(p,v){return v>p?v:p}):void 0},s=i.map(function(m){var h=a.filter(function(v){return v.startsWith("lib."+m.toLowerCase())});if(h.length===0)return 0;var p=a.indexOf(h.pop());return p}),u=d(s)||0,f=Math.max(o,u);return a.slice(0,f+1)},bs=function(r,t,n,i,a,c,l){var o=fetch,d=new Map,s=ys(r,i),u="https://cdn.jsdelivr.net/npm/typescript@"+t+"/lib/";function f(){return Promise.all(s.map(function(h){return o(u+h).then(function(p){return p.text()})})).then(function(h){h.forEach(function(p,v){return d.set("/"+s[v],p)})}).catch(function(){})}var m=f;return m().then(function(){return d})};function ce(e){throw new Error("Method '"+e+"' is not implemented.")}function le(e,r){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=r.apply(void 0,n),c=typeof a=="string"?a.slice(0,80)+"...":a;return Or.apply(void 0,["> "+e].concat(n)),Or("< "+c),a}}var Ts=function(r){return ie({},r.getDefaultCompilerOptions(),{jsx:r.JsxEmit.React,strict:!0,esModuleInterop:!0,module:r.ModuleKind.ESNext,suppressOutputPathCheck:!0,skipLibCheck:!0,skipDefaultLibCheck:!0,moduleResolution:r.ModuleResolutionKind.NodeJs})},Fr=function(r){return r.replace("/","/lib.").toLowerCase()};function Ls(e){return{args:[],createDirectory:function(){return ce("createDirectory")},directoryExists:le("directoryExists",function(r){return Array.from(e.keys()).some(function(t){return t.startsWith(r)})}),exit:function(){return ce("exit")},fileExists:le("fileExists",function(r){return e.has(r)||e.has(Fr(r))}),getCurrentDirectory:function(){return"/"},getDirectories:function(){return[]},getExecutingFilePath:function(){return ce("getExecutingFilePath")},readDirectory:le("readDirectory",function(r){return r==="/"?Array.from(e.keys()):[]}),readFile:le("readFile",function(r){var t;return(t=e.get(r))!=null?t:e.get(Fr(r))}),resolvePath:function(t){return t},newLine:`
`,useCaseSensitiveFileNames:!0,write:function(){return ce("write")},writeFile:function(t,n){e.set(t,n)},deleteFile:function(t){e.delete(t)}}}function Cs(e,r,t){var n=new Map,i=function(l){return n.set(l.fileName,l),l},a={compilerHost:ie({},e,{getCanonicalFileName:function(l){return l},getDefaultLibFileName:function(){return"/"+t.getDefaultLibFileName(r)},getNewLine:function(){return e.newLine},getSourceFile:function(l,o){var d;return n.get(l)||i(t.createSourceFile(l,e.readFile(l),(d=o??r.target)!=null?d:Ts(t).target,!1))},useCaseSensitiveFileNames:function(){return e.useCaseSensitiveFileNames}}),updateFile:function(l){var o=n.has(l.fileName);return e.writeFile(l.fileName,l.text),n.set(l.fileName,l),o},deleteFile:function(l){var o=n.has(l.fileName);return n.delete(l.fileName),e.deleteFile(l.fileName),o}};return a}function $s(e,r,t,n,i){var a=[].concat(r),c=Cs(e,t,n),l=c.compilerHost,o=c.updateFile,d=c.deleteFile,s=new Map,u=0,f=ie({},l,{getProjectVersion:function(){return u.toString()},getCompilationSettings:function(){return t},getCustomTransformers:function(){return i},getScriptFileNames:function(){return a.slice()},getScriptSnapshot:function(p){var v=e.readFile(p);if(v&&typeof v=="string")return n.ScriptSnapshot.fromString(v)},getScriptVersion:function(p){return s.get(p)||"0"},writeFile:e.writeFile}),m={languageServiceHost:f,updateFile:function(p){u++,s.set(p.fileName,u.toString()),a.includes(p.fileName)||a.push(p.fileName),o(p)},deleteFile:function(p){u++,s.set(p.fileName,u.toString());var v=a.indexOf(p.fileName);v!==-1&&a.splice(v,1),d(p)}};return m}const{proxies:Dr,init:ws,convertor:_r}=qr;async function As(e,r){Rt({isReload:!0});const[t,n]=await Promise.all([ms(e),hs(r)]),i={includeCompletionsWithInsertText:!0,includeCompletionsForModuleExports:!0,includeCompletionsForImportStatements:!0,includeCompletionsWithClassMemberSnippets:!0,includeCompletionsWithObjectLiteralMethodSnippets:!0,includeCompletionsWithSnippetText:!0,includeInlayEnumMemberValueHints:!0,includeInlayFunctionLikeReturnTypeHints:!0,includeInlayFunctionParameterTypeHints:!0,includeInlayParameterNameHints:"all",includeInlayParameterNameHintsWhenArgumentMatchesName:!0,includeInlayPropertyDeclarationTypeHints:!0,includeInlayVariableTypeHints:!0,includeInlayVariableTypeHintsWhenTypeMatchesName:!0,includePackageJsonAutoImports:"auto",interactiveInlayHints:!0,preferTypeOnlyAutoImports:!1,providePrefixAndSuffixTextForRename:!0,provideRefactorNotApplicableReason:!0,quotePreference:"double",useLabelDetailsInCompletionEntries:!0},a={lib:["esnext","dom"],target:t.ScriptTarget.ESNext,module:t.ModuleKind.ESNext,allowNonTsExtensions:!0,paths:{qingkuai:[Et]},allowImportingTsExtensions:!0,moduleResolution:t.ModuleResolutionKind.Bundler},c={resolveImportExtension:!0,convenientDerivedDeclaration:!0},l={semicolons:t.SemicolonPreference.Ignore},o=R=>v.getProgram().getSourceFile(R)||t.createSourceFile(R,V.get(R),t.ScriptTarget.ESNext),s=await(await fetch(`https://unpkg.com/qingkuai@${r}/dist/types/runtime/index.d.ts`)).text();V.set(Et,s),self.postMessage({name:O.FileLoaded,fileName:Et,content:s}),(await bs(a,t.version,!1,t)).forEach((R,S)=>{if(!R.startsWith("Couldn't find")){const N=`/node_modules/typescript/lib${S}`;V.set(N,R),self.postMessage({name:O.FileLoaded,content:R,fileName:N})}}),ws({ts:t,fs:gs,typeDeclarationFilePath:Nt,path:J,getCompileInfo:R=>{const S=z.get(R),N=S.inputDescriptor.script.isTS;return{content:S.code,itos:S.interIndexMap.itos,slotInfo:S.inputDescriptor.slotInfo,positions:S.inputDescriptor.positions,scriptKind:t.ScriptKind[N?"TS":"JS"],attributeInfos:Pr.get(R),refAttrValueStartIndexes:new Set(S.inputDescriptor.refAttrValueStartIndexes)}},getConfig:()=>c,getUserPreferences:()=>i,getFormattingOptions:()=>l,getTsLanguageService:()=>v,getFullFileNames:()=>Array.from(V.keys()),getLineAndCharacter(R,S){return o(R).getLineAndCharacterOfPosition(S)},getInterIndexByLineAndCharacter(R,{line:S,character:N}){return o(R).getPositionOfLineAndCharacter(S,N)}});const u=Array.from(V.keys()),f=Ls(V),{deleteFile:m,updateFile:h,languageServiceHost:p}=$s(f,u,a,t),v=t.createLanguageService(p),w=(R,S)=>{const N=o(R);N.text=S,h(N),se.set(R,se.get(R)+1)};Rt({ts:t,system:f,qingkuaiCompiler:n,tsLanguageService:v,tsLanguageServiceHost:p,updateFile:R=>{const S=z.get(R);v.getProgram().getSourceFile(R)||(h(o(R)),se.set(R,1));let L=S.code;w(R,L),Re(R)&&(w(R,L=_r.ensureExport(v,S.filePath,S.code,S.typeDeclarationLen)),Pr.set(R,_r.getComponentAttributes(v,R))),V.set(R,L)},prettierAndPlugins:await Es(),deleteFile:R=>m(o(R))}),p.resolveModuleNameLiterals=(R,S)=>R.map(N=>t.resolveModuleName(N.text,S,a,f)),Dr.proxyGetCompletionsAtPosition(v),Dr.proxyResolveModuleNameLiterals(p,()=>!0);const A=p.getScriptKind;p.getScriptKind=R=>{const S=z.get(R);return S?t.ScriptKind[S.inputDescriptor.script.isTS?"TS":"JS"]:A==null?void 0:A.call(p,R)},p.getScriptVersion=R=>(se.get(R)??1).toString();const D=p.getScriptSnapshot;p.getScriptSnapshot=R=>{const S=V.get(R);return S!==void 0?t.ScriptSnapshot.fromString(S):D.call(p,R)},on()}const cn={workspacePath:"/",extensionConfig:{typescriptDiagnosticsExplain:!0,insertSpaceAroundInterpolation:!1,componentTagFormatPreference:"camel",additionalCodeLens:["component","slot"],componentAttributeFormatPreference:"camel",htmlHoverTip:["tag","entity","attribute"]},prettierConfig:{tabWidth:4,semi:!1,arrowParens:"avoid",trailingComma:"all",singleAttributePerLine:!0,qingkuai:{spaceAroundInterpolation:!1,componentTagFormatPreference:"camel",componentAttributeFormatPreference:"camel"}}},ue={};function Y(e){return z.get(e)}async function Ns({uri:e,source:r},t,n){const i=e.replace(/^file:\/\//,""),a=ue[i],[c,...l]=fe,o=Re(i);if(a&&a.source===r&&(!o||a.debug===t&&a.comment===n))return a;try{const d={debug:t,source:r,comment:n};if(o){const s=Se.compile(r,{debug:t,comment:n,sourcemap:!1,hashId:a==null?void 0:a.hashId,reserveTemplateComment:!0,convenientDerivedDeclaration:!0,componentName:U.util.filePathToComponentName(J,i)}),u=s.inputDescriptor.styles.map(f=>xs(f.code,s.hashId));ue[i]={...d,hashId:s.hashId,semiScript:s.code,script:ne.transpile(s.code,{target:ne.ScriptTarget.ESNext}),style:await c.format(u.join(`
`),{plugins:l,parser:"css",...cn.prettierConfig})}}else ue[i]={...d,style:"",hashId:"",semiScript:"",script:ne.transpile(r,{target:ne.ScriptTarget.ESNext})};return ue[i]}catch(d){return d.message??""}}function k({uri:e,version:r,source:t}){const n=ds(e),i=z.get(n);if((i==null?void 0:i.version)===r)return i;let a;Re(e)?a=Se.compile(t,{check:!0,typeRefStatement:xr}):a=Ps({uri:e,source:t});const c=tn(t),l=a.inputDescriptor.script.isTS,o=a.inputDescriptor.positions,d=U.util.getPositionGen(o);l&&Pt!==U.ProjectKind.TS&&Rt({projectKind:U.ProjectKind.TS});const u={...a,uri:e,config:cn,version:r,filePath:n,getOffset:f=>c[f.line]+f.character,getPosition:d,code:a.code,isSynchronized:!0,scriptLanguageId:l?"typescript":"javascript",getRange:U.util.getRangeGen(d),isPositionFlagSet:U.util.isPositionFlagSetGen(o),getInterIndex:U.util.getInterIndexGen(a.interIndexMap.stoi),getSourceIndex:U.util.getSourceIndexGen(a.interIndexMap.itos),builtInTypeDeclarationEndIndex:a.typeDeclarationLen+xr.length};return z.set(n,u),V.set(n,a.code),nn(n),u}function Ps({source:e,uri:r}){const t=[],n=J.ext(r).slice(1),i=n==="css",a=Array.from({length:e.length},(l,o)=>o);for(let l=0,o=1,d=0;l<=e.length;l++)t.push({line:o,column:d,index:l,flag:Se.PositionFlag[i?"inStyle":"inScript"]}),e[l]===`
`?(o++,d=0):d++;const c={start:t[0],end:t[t.length-1]};return{code:i?"":e,hashId:"",mappings:"",interIndexMap:{itos:a,stoi:a},messages:[],typeDeclarationLen:0,templateNodes:[],inputDescriptor:{source:e,positions:t,options:{componentName:"",hashId:"",check:!1,debug:!1,comment:!1,sourcemap:!1,typeRefStatement:"",reserveTemplateComment:!1,convenientDerivedDeclaration:!1},slotInfo:{},indentSpaceCount:0,script:{isTS:n==="ts",code:e,existing:!0,generatedOffset:[0,0],lineCount:0,loc:c,startTagNameRange:[0,0]},styles:i?[{code:e,lang:"css",loc:c,startTagNameRange:[0,0]}]:[],stringConstantCount:0,refAttrValueStartIndexes:[]}}}function xs(e,r){const t=Ie.parse(e),n={flags:null,value:null,matcher:null,name:{name:`qk-${r}`,type:"Identifier"},type:"AttributeSelector"},i=a=>a.type==="AttributeSelector"&&a.name.name==="qk-scope";return Ie.walk(t,{visit:"Rule",enter(a){var c;if(!(a.prelude.type!=="SelectorList"||((c=this.atrule)==null?void 0:c.name)==="keyframes"))for(const l of a.prelude.children.toArray()){if(l.type!=="Selector")continue;let o=!1;const d=!!l.children.toArray().find(i);l.children.forEachRight((s,u)=>{if(i(s)&&l.children.replace(u,l.children.createItem(n)),!(o||d)&&(s.type==="IdSelector"||s.type==="TypeSelector"||s.type==="ClassSelector"||s.type==="AttributeSelector"))return l.children.insert(l.children.createItem(n),u.next),o=!0})}}}),Ie.generate(t)}const{rename:Os,format:Fs,doHover:Ds,codeLens:_s,doComplete:qs,prepareRename:Gs,getDiagnostic:Ms,findReferences:ks,findDefinitions:js,resolveCodeLens:Vs,getDocumentColors:Us,findImplementations:Ks,getColorPresentations:Ws,resolveEmmetCompletion:Hs,resolveScriptBlockCompletion:Xs}=U,{convertor:K}=qr;self.onmessage=async({data:{id:e,name:r,arg:t}})=>{const n=i=>{self.postMessage({id:e,name:r,arg:i})};if(r===O.LoadCore)return await As(t.tsVersion,t.qingkuaiVersion),n(null);switch(vt.state==="pending"&&await vt,r){case O.DeleteFile:return n(await Bs(t));case O.CodeLens:return n(await Ys(t));case O.GetDocumentColors:return n(ci(t));case O.FormatDocument:return n(await si(t));case O.GetDiagnostic:return n(await Zs(t));case O.ResolveCodeLens:return n(await Qs(t));case O.ResolveCompletionItem:return n(await ti(t));case O.Hover:return n(await Js(t.model,t.offset));case O.PrepareRename:return n(await ri(t.model,t.offset));case O.FindReferences:return n(await ai(t.model,t.offset));case O.FindDefinitions:return n(await ii(t.model,t.offset));case O.Rename:return n(await ni(t.model,t.offset,t.newName));case O.FindImplementations:return n(await oi(t.model,t.offset));case O.GetCompletions:return n(await ei(t.model,t.offset,t.trigger));case O.GetCompileResult:return n(await zs(t.model,t.debug,t.comment));case O.GetColorPresentations:return n(await fi(t.model,t.range,t.color))}};async function Bs(e){sn(e),V.delete(e),z.delete(e),se.delete(e)}async function zs(e,r,t){return await Ns(e,r,t)}async function Ys(e){return await _s(k(e),J,r=>M.getNavigationTree(r),()=>({referencesCodeLens:{enabled:!0,showOnAllFunctions:!0},implementationsCodeLens:{enabled:!0,showOnInterfaceMethods:!0}}))}async function Qs(e){return await Vs(e._ori,Y,(r,t,n)=>n==="implementation"?K.findAndConvertImplementations(M,{fileName:r,pos:t}):K.findAndConvertReferences(M,Y,{fileName:r,pos:t}))}async function Js(e,r){const t=k(e);return await Ds(t,r,!1,()=>({references:!0,documentation:!0}),(i,a)=>K.getAndConvertHoverTip(M,{fileName:i,pos:a}),xt)}async function Zs(e){const r=k(e),t=await Ms(r,n=>K.getAndConvertDiagnostics(M,n,!0));return r.inputDescriptor.styles.forEach(n=>{n.lang!=="css"&&t.push({message:`The ${n.lang} pre-processor is not supported in playground for the moment.`,range:r.getRange(...n.startTagNameRange)})}),t}async function ei(e,r,t){const n=k(e);return await qs(n,r,t,vs(e.uri,e.version,e.source,"html"),!1,Pt,li,xt,(i,a)=>K.getAndConvertCompletionInfo(M,{fileName:i,pos:a}))}async function ti(e){var r;switch((r=e._ori.data)==null?void 0:r.kind){case"emmet":return Hs(e._ori);case"script":return Xs(e._ori,Y,t=>K.getAndConvertCompletionDetail(M,t.data))}return e}async function ri(e,r){return await Gs(k(e),r,(t,n)=>K.prepareRenameAndConvert(M,{fileName:t.filePath,pos:n}))}async function ni(e,r,t){return await Os(k(e),r,t,Y,(n,i)=>K.renameAndConvert(M,{fileName:n,pos:i}))}async function si(e){if(!Re(e.uri)){const r=k(e),t=r.inputDescriptor.script.isTS,n=!!r.inputDescriptor.styles[0],[i,...a]=fe;return[{newText:await i.format(e.source,{plugins:a,...r.config.prettierConfig,parser:n?"css":t?"babel-ts":"babel"}),range:r.getRange(0,r.inputDescriptor.source.length)}]}return await Fs(fe,k(e),r=>ui("error",r))}async function ii(e,r){return await js(k(e),r,J,Y,xt,(t,n)=>K.getAndConvertDefinitions(M,{fileName:t.filePath,pos:n}))}async function oi(e,r){return await Ks(k(e),r,(t,n)=>K.findAndConvertImplementations(M,{fileName:t,pos:n}))}async function ai(e,r){return await ks(k(e),r,J,Y,(t,n)=>K.findAndConvertReferences(M,Y,{fileName:t,pos:n}))}function ci(e){return Us(k(e))}function li(e){const r=ps(e);self.postMessage({name:O.insertSnippet,text:r?e:e.text,command:r?void 0:e.command})}function xt(e){return K.getComponentInfos(M,e)}function ui(e,r){self.postMessage({value:r,type:e,name:O.ShowMessage})}function fi(e,r,t){return Ws(k(e),{end:{line:r.endLineNumber-1,character:r.endColumn-1},start:{line:r.startLineNumber-1,character:r.startColumn-1}},t)}
